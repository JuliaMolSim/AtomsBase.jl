<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · AtomsBase.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://juliamolsim.github.io/AtomsBase.jl/overview/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AtomsBase.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#System-geometry"><span>System geometry</span></a></li><li><a class="tocitem" href="#Iteration-and-Indexing-over-systems"><span>Iteration and Indexing over systems</span></a></li><li><a class="tocitem" href="#System-state-and-properties"><span>System state and properties</span></a></li><li><a class="tocitem" href="#Struct-of-Arrays-vs.-Array-of-Structs"><span>Struct-of-Arrays vs. Array-of-Structs</span></a></li><li><a class="tocitem" href="#Boundary-Conditions"><span>Boundary Conditions</span></a></li><li><a class="tocitem" href="#Atomic-system"><span>Atomic system</span></a></li></ul></li><li><a class="tocitem" href="../apireference/">API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaMolSim/AtomsBase.jl/blob/master/docs/src/overview.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h1><p>The main abstract type introduced in AtomsBase is <a href="../apireference/#AtomsBase.AbstractSystem"><code>AbstractSystem{D}</code></a>. The <code>D</code> parameter indicates the number of spatial dimensions in the system. Contained inside the system are species, which may have an arbitrary type, accessible via the <code>species_type(system)</code> function. While AtomsBase provides some default species types (e.g. <code>Atom</code> and <code>AtomView</code> for standard atoms) in principle no constraints are made on this species type.</p><p>The main power of the interface comes from predictable behavior of several core functions to access information about a system and the species. Various categories of such functions are described below.</p><h2 id="System-geometry"><a class="docs-heading-anchor" href="#System-geometry">System geometry</a><a id="System-geometry-1"></a><a class="docs-heading-anchor-permalink" href="#System-geometry" title="Permalink"></a></h2><p>Functions that need to be dispatched:</p><ul><li><code>bounding_box(::AbstractSystem{D})::SVector{D,SVector{D,&lt;:Unitful.Length}}</code>: returns <code>D</code> vectors of length <code>D</code> that describe the &quot;box&quot; in which the system lives</li><li><code>boundary_conditions(::AbstractSystem{D})::SVector{D,BoundaryCondition})</code>: returns a vector of length <code>D</code> of <code>BoundaryCondition</code> objects to describe what happens at the edges of the box</li></ul><p>Functions that will work automatically:</p><ul><li><code>periodicity</code>: returns a vector of length <code>D</code> of <code>Bool</code>s for whether each dimension of the system has periodic boundary conditions</li><li><code>n_dimensions</code>: returns <code>D</code>, the number of spatial dimensions of the system</li></ul><h2 id="Iteration-and-Indexing-over-systems"><a class="docs-heading-anchor" href="#Iteration-and-Indexing-over-systems">Iteration and Indexing over systems</a><a id="Iteration-and-Indexing-over-systems-1"></a><a class="docs-heading-anchor-permalink" href="#Iteration-and-Indexing-over-systems" title="Permalink"></a></h2><p>There is a presumption of the ability to somehow extract an individual component (e.g. a single atom or molecule) of this system, though there are no constraints on the type of this component. To achieve this, an <a href="../apireference/#AtomsBase.AbstractSystem"><code>AbstractSystem</code></a> object is expected to implement the Julia interfaces for <a href="https://docs.julialang.org/en/v1/manual/interfaces/#man-interface-iteration">iteration</a> and <a href="https://docs.julialang.org/en/v1/manual/interfaces/#Indexing">indexing</a> in order to access representations of individual components of the system. Some default dispatches of parts of these interfaces are already included, so the minimal set of functions to dispatch in a concrete implementation is <code>Base.getindex</code> and <code>Base.length</code>, though it may be desirable to customize additional behavior depending on context.</p><h2 id="System-state-and-properties"><a class="docs-heading-anchor" href="#System-state-and-properties">System state and properties</a><a id="System-state-and-properties-1"></a><a class="docs-heading-anchor-permalink" href="#System-state-and-properties" title="Permalink"></a></h2><p>The only required properties to be specified of the system is the species and implementations of standard functions accessing the properties of the species, currently</p><ul><li>Geometric information: <a href="../apireference/#Base.position"><code>position</code></a>, <a href="../apireference/#AtomsBase.velocity"><code>velocity</code></a>, <a href="../apireference/#AtomsBase.n_dimensions"><code>n_dimensions</code></a></li><li>Atomic information: <a href="../apireference/#AtomsBase.atomic_symbol"><code>atomic_symbol</code></a>, <a href="../apireference/#AtomsBase.atomic_mass"><code>atomic_mass</code></a>, <a href="../apireference/#AtomsBase.atomic_number"><code>atomic_number</code></a>, <a href="../apireference/#AtomsBase.element"><code>element</code></a></li><li>Atomic and system property accessors: <code>getindex</code>, <code>haskey</code>, <code>getkey</code>, <code>keys</code>, <code>pairs</code></li></ul><p>Based on these methods respective equivalent methods acting on an <code>AbstractSystem</code> will be automatically available, e.g. using the iteration interface of the <code>AbstractSystem</code> (see above). Most of the property accessors on the <code>AbstractSystem</code> also have indexed signatures to extract data from a particular species directly, for example:</p><pre><code class="language-julia hljs">position(sys, i) # position of `i`th particle in `sys`</code></pre><p>Currently, this syntax only supports linear indexing.</p><p>To simplify working with <code>AtomsBase</code>, default implementations for systems composed of atoms are provided (see <a href="../tutorial/#Tutorial">Tutorial</a>).</p><h2 id="Struct-of-Arrays-vs.-Array-of-Structs"><a class="docs-heading-anchor" href="#Struct-of-Arrays-vs.-Array-of-Structs">Struct-of-Arrays vs. Array-of-Structs</a><a id="Struct-of-Arrays-vs.-Array-of-Structs-1"></a><a class="docs-heading-anchor-permalink" href="#Struct-of-Arrays-vs.-Array-of-Structs" title="Permalink"></a></h2><p>The &quot;struct-of-arrays&quot; (SoA) vs. &quot;array-of-structs&quot; (AoS) is a common design dilemma in representations of systems such as these. We have deliberately designed this interface to be <em>agnostic</em> to how a concrete implementation chooses to structure its data. Some specific notes regarding how implementations might differ for these two paradigms are included below.</p><p>A way to think about this broadly is that the difference amounts to the ordering of function calls. For example, to get the position of a single particle in an AoS implementation, the explicit function chaining would be <code>position(getindex(sys))</code> (i.e. extract the single struct representing the particle of interest and query its position), while for SoA, one should prefer an implementation like <code>getindex(position(sys))</code> (extract the array of positions, then index into it for a single particle). The beauty of an abstract interface in Julia is that these details can be, in large part, abstracted away through method dispatch such that the end user sees the same expected behavior irrespective of how things are implemented &quot;under the hood&quot;.</p><h2 id="Boundary-Conditions"><a class="docs-heading-anchor" href="#Boundary-Conditions">Boundary Conditions</a><a id="Boundary-Conditions-1"></a><a class="docs-heading-anchor-permalink" href="#Boundary-Conditions" title="Permalink"></a></h2><p>Finally, we include support for defining boundary conditions. Currently included are <code>Periodic</code> and <code>DirichletZero</code>. There should be one boundary condition specified for each spatial dimension represented.</p><h2 id="Atomic-system"><a class="docs-heading-anchor" href="#Atomic-system">Atomic system</a><a id="Atomic-system-1"></a><a class="docs-heading-anchor-permalink" href="#Atomic-system" title="Permalink"></a></h2><p>Since we anticipate atomic systems to be a commonly needed representation, <code>AtomsBase</code> provides two flexible implementations for this setting. One implementation follows the struct-of-arrays approach introducing the <code>AtomView</code> type to conveniently expose atomic data. The more flexible implementation is based on an array-of-structs approach and can be easily customised, e.g. by adding custom properties or by swapping the underlying <code>Atom</code> struct by a custom one. In both cases the respective datastructures can be used either fully or in parts in downstream packages and we hope these to develop into universally useful types within the Julia ecosystem over time.</p><h3 id="Struct-of-Arrays-/-FastSystem"><a class="docs-heading-anchor" href="#Struct-of-Arrays-/-FastSystem">Struct of Arrays / FastSystem</a><a id="Struct-of-Arrays-/-FastSystem-1"></a><a class="docs-heading-anchor-permalink" href="#Struct-of-Arrays-/-FastSystem" title="Permalink"></a></h3><p>The file <a href="https://github.com/JuliaMolSim/AtomsBase.jl/blob/master/src/fast_system.jl">src/fast_system.jl</a> contains an implementation of AtomsBase based on the struct-of-arrays approach. All species data is stored as plain arrays, but for convenience indexing of individual atoms is supported by a light-weight <code>AtomView</code>. See the implementation files as well as the tests for how these can be used.</p><h3 id="Atoms-and-FlexibleSystem"><a class="docs-heading-anchor" href="#Atoms-and-FlexibleSystem">Atoms and FlexibleSystem</a><a id="Atoms-and-FlexibleSystem-1"></a><a class="docs-heading-anchor-permalink" href="#Atoms-and-FlexibleSystem" title="Permalink"></a></h3><p>A flexible implementation of the interface is provided by the <code>FlexibleSystem</code> and the <code>Atom</code> structs for representing atomic systems. These are discussed in detail in <a href="../tutorial/#Tutorial">Tutorial</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial/">« Tutorial</a><a class="docs-footer-nextpage" href="../apireference/">API reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Thursday 19 January 2023 20:03">Thursday 19 January 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
